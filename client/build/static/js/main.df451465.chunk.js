(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},24:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),l=(a(23),a(12)),c=a(13),s=a(16),d=a(14),u=a(17),m=(a(24),a(25),a(15)),p=a.n(m),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],progress:0},a.preventDefaults=function(e){e.preventDefault(),e.stopPropagation()},a.uploadFile=function(e){var t=new FormData;a.setState({progress:0}),e.forEach((function(e){t.append("files",e,e.name)})),p.a.post("/upload-image",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.setState({progress:parseInt(Math.round(100*e.loaded/e.total))})}}).then((function(e){a.previewFile(e.data),setTimeout((function(){a.setState({progress:0})}),3e3)})).catch((function(e){console.log(e)}))},a.removePreviewImage=function(e){var t=e.target.getAttribute("index"),n=a.state.images;n.splice(t,1),a.setState(n)},a.previewFile=function(e){var t=a.state.images;a.setState({images:t.concat(e)})},a.handleDrop=function(e){e.preventDefault();var t=e.dataTransfer.files;a.uploadFile(Array.from(t))},a.handleDragOver=function(e){e.preventDefault()},a.handleInputByClick=function(e){a.uploadFile(Array.from(e.target.files))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("drop-region-container"),t=document.getElementById("file-input");["dragenter","dragover"].forEach((function(t){e.addEventListener(t,(function(){e.classList.add("highlight")}))})),["dragleave","drop"].forEach((function(t){e.addEventListener(t,(function(){e.classList.remove("highlight")}))})),e.addEventListener("click",(function(){t.click()}))}},{key:"render",value:function(){var e=this,t=this.state.progress;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Drag and Drop Image Uploader with AWS S3"),r.a.createElement("div",{id:"drop-region-container",className:"drop-region-container mx-auto",onDrop:this.handleDrop,onDragOver:this.handleDragOver},r.a.createElement("div",{id:"drop-region",className:"drop-region text-center"},r.a.createElement("img",{id:"download-btn",src:"/Download.png",width:"80",alt:""}),r.a.createElement("h2",null,"Drag and Drop or Click to Upload"),r.a.createElement("input",{id:"file-input",type:"file",multiple:!0,onChange:this.handleInputByClick}))),r.a.createElement("p",{className:"mx-auto"},r.a.createElement("strong",null,"Uploading Progress")),r.a.createElement("div",{className:"progress mx-auto"},r.a.createElement("div",{id:"progress-bar",className:"progress-bar progress-bar-striped bg-info",role:"progressbar","aria-valuenow":"40","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(t,"%")}},t,"%")),r.a.createElement("div",{id:"preview",className:"mx-auto"},this.state.images.map((function(t,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("img",{src:t,alt:""}),r.a.createElement("button",{className:"btn btn-danger btn-block mx-auto",onClick:e.removePreviewImage},"Delete"))})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.df451465.chunk.js.map